<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <link rel="stylesheet" href="themes/Bootstrap.css">
        <link rel="stylesheet" href="css/jquery.mobile.structure-1.4.0.min.css" />
        <link rel="stylesheet" href="themes/jquery.mobile.icons.min.css" />
        <script src="js/jquery-1.8.2.min.js"></script>
        <script src="js/jquery.mobile-1.4.0.min.js"></script>
        <title>Kandy PhoneGap Demo</title>
    </head>
    <body>
        <!-- Index -->
        <div data-role="page" data-theme="a" id="index">
            <div data-role="header" data-position="inline">
                <h1>Kandy PhoneGap Demo</h1>
            </div>
            <div data-role="content" data-theme="a">
                <a href="#provisioning" data-role="button" data-icon="star">Provisioning</a>
                <a href="#access" data-role="button" data-icon="lock">Access</a>
                <a href="#call" data-role="button" data-icon="phone">Call</a>
                <a href="#chat" data-role="button" data-icon="comment">Chat</a>
                <a href="#presence" data-role="button" data-icon="eye">Presence</a>
                <a href="#location" data-role="button" data-icon="location">Location</a>
                <a href="#push" data-role="button" data-icon="plus">Push</a>
            </div>
        </div>
        <!-- Provisioning -->
        <div data-role="page" data-theme="a" id="provisioning">
            <div data-role="header" data-position="inline">
                <a data-role="button" data-theme="a"  href="#index" data-icon="home" data-iconpos="left" class="ui-btn-left">Home</a>
                <h1>Provisioning</h1>
            </div>
            <div data-role="content" data-theme="a">
                <input type="tel" id="phoneNumber" placeholder="Enter your number" />
                <button onclick="requestCode()">Request code</button>
                <input type="text" id="otpCode" placeholder="Enter the OTP code" />
                <button onclick="validate()">Validate</button>
                <p>Signed as: <span id="userSigned">none</span></p>
                <button onclick="deactivate()">Deactivate</button>
            </div>
        </div>
        <!-- Access -->
        <div data-role="page" data-theme="a" id="access">
            <div data-role="header" data-position="inline">
                <a data-role="button" data-theme="a"  href="#index" data-icon="home" data-iconpos="left" class="ui-btn-left">Home</a>
                <h1>Access</h1>
            </div>
            <div data-role="content" data-theme="a">
                <a id="userInfo" style="display:none;" data-role="button" onclick="logout()" data-icon="power">userID@domain.com</a>

                <form onsubmit="return false;" id="loginForm">
                    <div data-role="fieldcontain">
                        <input type="text" id="username" placeholder="userID@domain.com" value="user2@kandy-phonegap.com"/>
                    </div>
                    <div data-role="fieldcontain">
                        <input type="password" id="password" placeholder="Password" value="a1234567"/>
                    </div>
                    <div class="ui-body ui-body-b">
                        <button onclick="login()" id="btnLogin" data-theme="d">Login</button>
                    </div>
                </form>
            </div>
        </div>
        <!-- Call -->
        <div data-role="page" data-theme="a" id="call">
            <div data-role="header" data-position="inline">
                <a data-role="button" data-theme="a"  href="#index" data-icon="home" data-iconpos="left" class="ui-btn-left">Home</a>
                <h1>Call</h1>
            </div>
            <div data-role="content" data-theme="a">
                <input type="text" id="callee" placeholder="userID@domain.com"/>
                <label><input type="checkbox" id="startWithVideo"/>Start with video</label>
                
                <button onclick="voiceCall()" data-theme="d" style="display: none;">Call</button>
                <button onclick="makeCallDlg()" data-theme="b">Call Dialog</button>

                <div class="ui-grid-c" style="display: none;">
                    <div class="ui-block-a"><button onclick="hangup()" id="btnHangup" data-theme="c">End</button></div>
                    <div class="ui-block-b"><button onclick="mute()" id="btnMute" data-theme="a">Mute</button></div>
                    <div class="ui-block-c"><button onclick="hold()" id="btnHold" data-theme="a">Hold</button></div>
                    <div class="ui-block-d"><button onclick="video()" id="btnVideo" data-theme="a">Video</button></div>
                </div>
            </div>
        </div>
        <!-- Chat -->
        <div data-role="page" data-theme="a" id="chat">
            <div data-role="header" data-position="fixed">
                <a data-role="button" data-theme="a"  href="#index" data-icon="home" data-iconpos="left" class="ui-btn-left">Home</a>
                <h1>Chat</h1>
                <input type="text" id="recipient" placeholder="recipientID@domain.com" class="required" value="user3@kandy-phonegap.com" />
                <div class="ui-grid-a">
                    <div class="ui-block-a" style="width: 75%;">
                        <input type="text" id="message" placeholder="Message" class="required"/>
                    </div>
                    <div class="ui-block-b" style="width: 24%; margin-top: 2px; margin-left: 1px;">
                        <button onclick="sendMessage()" data-theme="d">Send</button>
                    </div>
                    <div class="ui-block-a" style="width: 49%; margin-right: 1px;">
                        <button onclick="pullEvents()">Pull pending events</button>
                    </div>
                    <div class="ui-block-b" style="width: 49%; margin-left: 1px">
                        <button onclick="markAsReceived()">Mark message as read</button>
                    </div>
                </div>
            </div>
            <div data-role="content" data-theme="a">
                <ul data-role="listview" data-theme="a" data-divider-theme="d" id="chatArea" />
            </div>
        </div>
        <!-- Presence -->
        <div data-role="page" data-theme="a" id="presence">
            <div data-role="header" data-position="inline">
                <a data-role="button" data-theme="a"  href="#index" data-icon="home" data-iconpos="left" class="ui-btn-left">Home</a>
                <h1>Presence</h1>
            </div>
            <div data-role="content" data-theme="a">
                <p>Wath for: <span id="userWatched">none</span></p>
                <p>Presence: <span id="userState">none</span></p>
                <input type="text" id="userIdWatched" placeholder="recipientID@domain.com" />
                <button data-theme="d" onclick="startWatch()">Watch</button>
            </div>
        </div>
        <!-- Location -->
        <div data-role="page" data-theme="a" id="location">
            <div data-role="header" data-position="inline">
                <a data-role="button" data-theme="a"  href="#index" data-icon="home" data-iconpos="left" class="ui-btn-left">Home</a>
                <h1>Location</h1>
            </div>
            <div data-role="content" data-theme="a">
                <p>Two letter country code: <span id="countryCode">none</span></p>
                <p>Country long name: <span id="countryNameLong">none</span></p>
                <p>Country short name: <span id="countryNameShort">none</span></p>
                <button onclick="getCountryInfo()" data-theme="d">Get code</button>
            </div>
        </div>
        <!-- Push -->
        <div data-role="page" data-theme="a" id="push">
            <div data-role="header" data-position="inline">
                <a data-role="button" data-theme="a"  href="#index" data-icon="home" data-iconpos="left" class="ui-btn-left">Home</a>
                <h1>Push</h1>
            </div>
            <div data-role="content" data-theme="a">
                <p>Push Service State: <span id="pushState">Undefined</span></p>
                <button onclick="pushEnable()" data-theme="d">Enable Push Service</button>
                <button onclick="pushDisable()" data-theme="c">Disable Push Service</button>
            </div>
        </div>
        <!-- Address book -->

        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
        <script type="text/javascript">
            app.initialize();
        </script>
    </body>
</html>
